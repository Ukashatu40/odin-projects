<%- include('../layouts/header') %>
<div class="max-w-md mx-auto bg-white p-6 rounded shadow">
  <h2 class="text-xl font-bold mb-4">Edit Player</h2>
  <% if (errors && errors.length > 0) { %>
    <ul class="text-red-500 mb-4">
      <% errors.forEach(error => { %>
        <li><%= error.msg %></li>
      <% }) %>
    </ul>
  <% } %>
  <form action="/players/<%= player.id %>?_method=PUT" method="POST">
    <div class="mb-4">
      <label for="name" class="block text-sm font-medium">Name</label>
      <input type="text" id="name" name="name" value="<%= player.name %>" class="w-full border p-2 rounded">
    </div>
    <div class="mb-4">
      <label for="category_id" class="block text-sm font-medium">Category</label>
      <select id="category_id" name="category_id" class="w-full border p-2 rounded">
        <% categories.forEach(category => { %>
          <option value="<%= category.id %>" <%= player.category_id == category.id ? 'selected' : '' %>><%= category.name %></option>
        <% }) %>
      </select>
    </div>
    <div class="mb-4">
      <label for="position" class="block text-sm font-medium">Position</label>
      <input type="text" id="position" name="position" value="<%= player.position %>" class="w-full border p-2 rounded">
    </div>
    <div class="mb-4">
      <label for="club" class="block text-sm font-medium">Club</label>
      <input type="text" id="club" name="club" value="<%= player.club %>" class="w-full border p-2 rounded">
    </div>
    <div class="mb-4">
      <label for="nationality" class="block text-sm font-medium">Nationality</label>
      <input type="text" id="nationality" name="nationality" value="<%= player.nationality %>" class="w-full border p-2 rounded">
    </div>
    <div class="mb-4">
      <label for="age" class="block text-sm font-medium">Age</label>
      <input type="number" id="age" name="age" value="<%= player.age %>" class="w-full border p-2 rounded">
    </div>
    <div class="mb-4">
      <label for="adminPassword" class="block text-sm font-medium">Admin Password</label>
      <input type="password" id="adminPassword" name="adminPassword" placeholder="1234" class="w-full border p-2 rounded">
    </div>
    <button type="submit" class="bg-blue-600 text-white p-2 rounded hover:bg-blue-700">Update Player</button>
  </form>
  <a href="/players/<%= player.id %>" class="mt-4 inline-block text-blue-600 hover:underline">Back to Player</a>
</div>
<%- include('../layouts/footer') %>